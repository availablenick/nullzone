- page_number = 1
- if params[:page]
  - page_number = params[:page].to_i

-# BotÃµes podem ser de search/show/index
- if is_search
  - path = topicos_search_path
- elsif is_showing
  - path = topico_path(@topico) if is_showing
- else
  - path = topicos_path

- items_per_page = 10
- if is_showing
  - num_items = @topico.posts.count + 1
- else
  - num_items = @topicos.length

- page_amount = (num_items.to_f / items_per_page).ceil
- if page_amount > 1
  %div.buttons-div
    %form{ action: path, method: :get }
      - if is_search
        %input{ type: 'hidden', name: :pesquisa, value: "#{params[:pesquisa]}" }

      - if page_number > 1
        %button{ type: 'submit', name: :page, value: "#{page_number-1}" }
          &#9666; Ant

      - if page_number > 3
        - 2.times do |i|
          %input{ type: 'submit', name: :page, value: "#{i+1}" }

        %span.points
          %b
            = '. . .'
        
        - if page_amount - page_number > 3
          %button.selected-button{ disabled: true }
            = page_number
          %input{ type: 'submit', name: :page, value: "#{page_number + 1}" }
          %span.points
            %b
              = '. . .'
          
          - 2.times do |i|
            %input{ type: 'submit', name: :page, value: "#{page_amount - 1 + i}" }
        - else
          - (4).times do |i|
            - if page_amount - 3 + i == page_number
              %button.selected-button{ disabled: true }
                = page_number
            - else
              %input{ type: 'submit', name: :page, value: "#{page_amount - 3 + i}" }
      - else
        - if page_amount > 6
          - 3.times do |i|
            - if i+1 == page_number
              %button.selected-button{ disabled: true }
                = page_number
            - else
              %input{ type: 'submit', name: :page, value: "#{i+1}" }

          %span.points
            %b
              = '. . .'

          - 2.times do |i|
            %input{ type: 'submit', name: :page, value: "#{page_amount - 1 + i}" }

        - else
          - page_amount.times do |i|
            - if i+1 == page_number
              %button.selected-button{ disabled: true }
                = page_number
            - else
              %input{ type: 'submit', name: :page, value: "#{i+1}" }

      - if page_number < page_amount
        %button{ type: 'submit', name: :page, value: "#{page_number+1}" }
          PrÃ³x &#9656;
